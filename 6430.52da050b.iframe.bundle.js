"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[6430],{"./node_modules/@ariakit/core/esm/__chunks/7PRQYBBV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function toArray(arg){return Array.isArray(arg)?arg:void 0!==arg?[arg]:[]}function flatten2DArray(array){const flattened=[];for(const row of array)flattened.push(...row);return flattened}function reverseArray(array){return array.slice().reverse()}__webpack_require__.d(__webpack_exports__,{$r:()=>toArray,M9:()=>flatten2DArray,q7:()=>reverseArray})},"./node_modules/@ariakit/core/esm/__chunks/AJZ4BYF3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>createCompositeStore});var _CYQWQL4J_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/CYQWQL4J.js"),_7PRQYBBV_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/7PRQYBBV.js"),_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/BCALMBPZ.js"),_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/PBFD2E7P.js"),_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/3YLGPPWQ.js"),NULL_ITEM={id:null};function findFirstEnabledItem(items,excludeId){return items.find((item=>excludeId?!item.disabled&&item.id!==excludeId:!item.disabled))}function getItemsInRow(items,rowId){return items.filter((item=>item.rowId===rowId))}function groupItemsByRows(items){const rows=[];for(const item of items){const row=rows.find((currentRow=>{var _a;return(null==(_a=currentRow[0])?void 0:_a.rowId)===item.rowId}));row?row.push(item):rows.push([item])}return rows}function getMaxRowLength(array){let maxLength=0;for(const{length}of array)length>maxLength&&(maxLength=length);return maxLength}function createCompositeStore(props={}){var _a;const syncState=null==(_a=props.store)?void 0:_a.getState(),collection=(0,_CYQWQL4J_js__WEBPACK_IMPORTED_MODULE_1__.I)(props),activeId=(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.activeId,null==syncState?void 0:syncState.activeId,props.defaultActiveId),initialState=(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.ko)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.IA)({},collection.getState()),{id:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.id,null==syncState?void 0:syncState.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId,baseElement:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(null==syncState?void 0:syncState.baseElement,null),includesBaseElement:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.includesBaseElement,null==syncState?void 0:syncState.includesBaseElement,null===activeId),moves:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(null==syncState?void 0:syncState.moves,0),orientation:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.orientation,null==syncState?void 0:syncState.orientation,"both"),rtl:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.rtl,null==syncState?void 0:syncState.rtl,!1),virtualFocus:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.virtualFocus,null==syncState?void 0:syncState.virtualFocus,!1),focusLoop:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.focusLoop,null==syncState?void 0:syncState.focusLoop,!1),focusWrap:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.focusWrap,null==syncState?void 0:syncState.focusWrap,!1),focusShift:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.focusShift,null==syncState?void 0:syncState.focusShift,!1)}),composite=(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_3__.y$)(initialState,collection,props.store);(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_3__.mj)(composite,(()=>(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_3__.OH)(composite,["renderedItems","activeId"],(state=>{composite.setState("activeId",(activeId2=>{var _a2;return void 0!==activeId2?activeId2:null==(_a2=findFirstEnabledItem(state.renderedItems))?void 0:_a2.id}))}))));const getNextId=(direction="next",options={})=>{var _a2,_b;const defaultState=composite.getState(),{skip=0,activeId:activeId2=defaultState.activeId,focusShift=defaultState.focusShift,focusLoop=defaultState.focusLoop,focusWrap=defaultState.focusWrap,includesBaseElement=defaultState.includesBaseElement,renderedItems=defaultState.renderedItems,rtl=defaultState.rtl}=options,isVerticalDirection="up"===direction||"down"===direction,isNextDirection="next"===direction||"down"===direction,canReverse=isNextDirection?rtl&&!isVerticalDirection:!rtl||isVerticalDirection,canShift=focusShift&&!skip;let items=isVerticalDirection?(0,_7PRQYBBV_js__WEBPACK_IMPORTED_MODULE_4__.M9)(function normalizeRows(rows,activeId,focusShift){const maxLength=getMaxRowLength(rows);for(const row of rows)for(let i=0;i<maxLength;i+=1){const item=row[i];if(!item||focusShift&&item.disabled){const previousItem=0===i&&focusShift?findFirstEnabledItem(row):row[i-1];row[i]=previousItem&&activeId!==previousItem.id&&focusShift?previousItem:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==previousItem?void 0:previousItem.rowId}}}return rows}(groupItemsByRows(renderedItems),activeId2,canShift)):renderedItems;if(items=canReverse?(0,_7PRQYBBV_js__WEBPACK_IMPORTED_MODULE_4__.q7)(items):items,items=isVerticalDirection?function verticalizeItems(items){const rows=groupItemsByRows(items),maxLength=getMaxRowLength(rows),verticalized=[];for(let i=0;i<maxLength;i+=1)for(const row of rows){const item=row[i];item&&verticalized.push((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.ko)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.IA)({},item),{rowId:item.rowId?`${i}`:void 0}))}return verticalized}(items):items,null==activeId2)return null==(_a2=findFirstEnabledItem(items))?void 0:_a2.id;const activeItem=items.find((item=>item.id===activeId2));if(!activeItem)return null==(_b=findFirstEnabledItem(items))?void 0:_b.id;const isGrid=items.some((item=>item.rowId)),activeIndex=items.indexOf(activeItem),nextItems=items.slice(activeIndex+1),nextItemsInRow=getItemsInRow(nextItems,activeItem.rowId);if(skip){const nextEnabledItemsInRow=function getEnabledItems(items,excludeId){return items.filter((item=>excludeId?!item.disabled&&item.id!==excludeId:!item.disabled))}(nextItemsInRow,activeId2),nextItem2=nextEnabledItemsInRow.slice(skip)[0]||nextEnabledItemsInRow[nextEnabledItemsInRow.length-1];return null==nextItem2?void 0:nextItem2.id}const canLoop=focusLoop&&(isVerticalDirection?"horizontal"!==focusLoop:"vertical"!==focusLoop),canWrap=isGrid&&focusWrap&&(isVerticalDirection?"horizontal"!==focusWrap:"vertical"!==focusWrap),hasNullItem=isNextDirection?(!isGrid||isVerticalDirection)&&canLoop&&includesBaseElement:!!isVerticalDirection&&includesBaseElement;if(canLoop){const sortedItems=function flipItems(items,activeId,shouldInsertNullItem=!1){const index=items.findIndex((item=>item.id===activeId));return[...items.slice(index+1),...shouldInsertNullItem?[NULL_ITEM]:[],...items.slice(0,index)]}(canWrap&&!hasNullItem?items:getItemsInRow(items,activeItem.rowId),activeId2,hasNullItem),nextItem2=findFirstEnabledItem(sortedItems,activeId2);return null==nextItem2?void 0:nextItem2.id}if(canWrap){const nextItem2=findFirstEnabledItem(hasNullItem?nextItemsInRow:nextItems,activeId2);return hasNullItem?(null==nextItem2?void 0:nextItem2.id)||null:null==nextItem2?void 0:nextItem2.id}const nextItem=findFirstEnabledItem(nextItemsInRow,activeId2);return!nextItem&&hasNullItem?null:null==nextItem?void 0:nextItem.id};return(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.ko)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.IA)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_0__.IA)({},collection),composite),{setBaseElement:element=>composite.setState("baseElement",element),setActiveId:id=>composite.setState("activeId",id),move:id=>{void 0!==id&&(composite.setState("activeId",id),composite.setState("moves",(moves=>moves+1)))},first:()=>{var _a2;return null==(_a2=findFirstEnabledItem(composite.getState().renderedItems))?void 0:_a2.id},last:()=>{var _a2;return null==(_a2=findFirstEnabledItem((0,_7PRQYBBV_js__WEBPACK_IMPORTED_MODULE_4__.q7)(composite.getState().renderedItems)))?void 0:_a2.id},next:options=>(void 0!==options&&"number"==typeof options&&(options={skip:options}),getNextId("next",options)),previous:options=>(void 0!==options&&"number"==typeof options&&(options={skip:options}),getNextId("previous",options)),down:options=>(void 0!==options&&"number"==typeof options&&(options={skip:options}),getNextId("down",options)),up:options=>(void 0!==options&&"number"==typeof options&&(options={skip:options}),getNextId("up",options))})}},"./node_modules/@ariakit/core/esm/__chunks/CYQWQL4J.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>createCollectionStore});var _BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/BCALMBPZ.js"),_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/PBFD2E7P.js"),_DTR5TSDJ_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/DTR5TSDJ.js"),_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/3YLGPPWQ.js");function createCollectionStore(props={}){var _a;(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.UE)(props,props.store);const syncState=null==(_a=props.store)?void 0:_a.getState(),items=(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(props.items,null==syncState?void 0:syncState.items,props.defaultItems,[]),itemsMap=new Map(items.map((item=>[item.id,item]))),initialState={items,renderedItems:(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.Jh)(null==syncState?void 0:syncState.renderedItems,[])},syncPrivateStore=function getPrivateStore(store){return null==store?void 0:store.__unstablePrivateStore}(props.store),privateStore=(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.y$)({items,renderedItems:initialState.renderedItems},syncPrivateStore),collection=(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.y$)(initialState,props.store),sortItems=renderedItems=>{const sortedItems=(0,_DTR5TSDJ_js__WEBPACK_IMPORTED_MODULE_0__.gH)(renderedItems,(i=>i.element));privateStore.setState("renderedItems",sortedItems),collection.setState("renderedItems",sortedItems)};(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.mj)(collection,(()=>(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.Ts)(privateStore))),(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.mj)(privateStore,(()=>(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.vA)(privateStore,["items"],(state=>{collection.setState("items",state.items)})))),(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.mj)(privateStore,(()=>(0,_BCALMBPZ_js__WEBPACK_IMPORTED_MODULE_1__.vA)(privateStore,["renderedItems"],(state=>{let firstRun=!0,raf=requestAnimationFrame((()=>{const{renderedItems}=collection.getState();state.renderedItems!==renderedItems&&sortItems(state.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(raf);const root=function getCommonParent(items){var _a;const firstItem=items.find((item=>!!item.element)),lastItem=[...items].reverse().find((item=>!!item.element));let parentElement=null==(_a=null==firstItem?void 0:firstItem.element)?void 0:_a.parentElement;for(;parentElement&&(null==lastItem?void 0:lastItem.element);){if(lastItem&&parentElement.contains(lastItem.element))return parentElement;parentElement=parentElement.parentElement}return(0,_DTR5TSDJ_js__WEBPACK_IMPORTED_MODULE_0__.YE)(parentElement).body}(state.renderedItems),observer=new IntersectionObserver((()=>{firstRun?firstRun=!1:(cancelAnimationFrame(raf),raf=requestAnimationFrame((()=>sortItems(state.renderedItems))))}),{root});for(const item of state.renderedItems)item.element&&observer.observe(item.element);return()=>{cancelAnimationFrame(raf),observer.disconnect()}}))));const mergeItem=(item,setItems,canDeleteFromMap=!1)=>{let prevItem;setItems((items2=>{const index=items2.findIndex((({id})=>id===item.id)),nextItems=items2.slice();if(-1!==index){prevItem=items2[index];const nextItem=(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_3__.IA)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_3__.IA)({},prevItem),item);nextItems[index]=nextItem,itemsMap.set(item.id,nextItem)}else nextItems.push(item),itemsMap.set(item.id,item);return nextItems}));return()=>{setItems((items2=>{if(!prevItem)return canDeleteFromMap&&itemsMap.delete(item.id),items2.filter((({id})=>id!==item.id));const index=items2.findIndex((({id})=>id===item.id));if(-1===index)return items2;const nextItems=items2.slice();return nextItems[index]=prevItem,itemsMap.set(item.id,prevItem),nextItems}))}},registerItem=item=>mergeItem(item,(getItems=>privateStore.setState("items",getItems)),!0);return(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_3__.ko)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_3__.IA)({},collection),{registerItem,renderItem:item=>(0,_PBFD2E7P_js__WEBPACK_IMPORTED_MODULE_2__.cy)(registerItem(item),mergeItem(item,(getItems=>privateStore.setState("renderedItems",getItems)))),item:id=>{if(!id)return null;let item=itemsMap.get(id);if(!item){const{items:items2}=privateStore.getState();item=items2.find((item2=>item2.id===id)),item&&itemsMap.set(id,item)}return item||null},__unstablePrivateStore:privateStore})}},"./node_modules/@ariakit/react-core/esm/__chunks/4CMBR7SL.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q4:()=>useCompositeStore,YC:()=>useCompositeStoreOptions,YO:()=>useCompositeStoreProps});var YV4JVR4I=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/YV4JVR4I.js"),ABQUS43J=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/ABQUS43J.js");function useCollectionStoreProps(store,update,props){return(0,ABQUS43J.w5)(update,[props.store]),(0,YV4JVR4I.Tz)(store,props,"items","setItems"),store}var _3YLGPPWQ=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/3YLGPPWQ.js"),AJZ4BYF3=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/AJZ4BYF3.js");function useCompositeStoreOptions(props){const id=(0,ABQUS43J.Bi)(props.id);return(0,_3YLGPPWQ.IA)({id},props)}function useCompositeStoreProps(store,update,props){return store=useCollectionStoreProps(store,update,props),(0,YV4JVR4I.Tz)(store,props,"activeId","setActiveId"),(0,YV4JVR4I.Tz)(store,props,"includesBaseElement"),(0,YV4JVR4I.Tz)(store,props,"virtualFocus"),(0,YV4JVR4I.Tz)(store,props,"orientation"),(0,YV4JVR4I.Tz)(store,props,"rtl"),(0,YV4JVR4I.Tz)(store,props,"focusLoop"),(0,YV4JVR4I.Tz)(store,props,"focusWrap"),(0,YV4JVR4I.Tz)(store,props,"focusShift"),store}function useCompositeStore(props={}){props=useCompositeStoreOptions(props);const[store,update]=(0,YV4JVR4I.Pj)(AJZ4BYF3.z,props);return useCompositeStoreProps(store,update,props)}},"./node_modules/@ariakit/react-core/esm/__chunks/ITI7HKP4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>useComposite,e:()=>Composite});var _5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/5VQZOHHZ.js"),_P7GR5CS5_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/P7GR5CS5.js"),_LVA2YJMS_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/LVA2YJMS.js"),_LMDWO4NN_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/LMDWO4NN.js"),_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/ABQUS43J.js"),_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/3YLGPPWQ.js"),_ariakit_core_utils_array__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/7PRQYBBV.js"),_ariakit_core_utils_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/DTR5TSDJ.js"),_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ariakit/core/esm/utils/events.js"),_ariakit_core_utils_focus__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@ariakit/core/esm/utils/focus.js"),_ariakit_core_utils_misc__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@ariakit/core/esm/__chunks/PBFD2E7P.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");function useKeyboardEventProxy(store,onKeyboardEvent,previousElementRef){return(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__._q)((event=>{var _a;if(null==onKeyboardEvent||onKeyboardEvent(event),event.defaultPrevented)return;if(event.isPropagationStopped())return;if(!(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.uh)(event))return;if(function isModifierKey(event){return"Shift"===event.key||"Control"===event.key||"Alt"===event.key||"Meta"===event.key}(event))return;if(function isPrintableKey(event){const target=event.target;return!(target&&!(0,_ariakit_core_utils_dom__WEBPACK_IMPORTED_MODULE_2__.mB)(target)||1!==event.key.length||event.ctrlKey||event.metaKey)}(event))return;const state=store.getState(),activeElement=null==(_a=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,state.activeId))?void 0:_a.element;if(!activeElement)return;const _b=event,{view}=_b,eventInit=(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_6__.YG)(_b,["view"]);activeElement!==(null==previousElementRef?void 0:previousElementRef.current)&&activeElement.focus(),(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.sz)(activeElement,event.type,eventInit)||event.preventDefault(),event.currentTarget.contains(activeElement)&&event.stopPropagation()}))}var useComposite=(0,_LMDWO4NN_js__WEBPACK_IMPORTED_MODULE_8__.ab)((function useComposite2(_a){var _b=_a,{store,composite=!0,focusOnMove=composite,moveOnKeyPress=!0}=_b,props=(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_6__.YG)(_b,["store","composite","focusOnMove","moveOnKeyPress"]);const context=(0,_P7GR5CS5_js__WEBPACK_IMPORTED_MODULE_9__.Lf)();store=store||context,(0,_ariakit_core_utils_misc__WEBPACK_IMPORTED_MODULE_10__.V1)(store,!1);const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),previousElementRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),scheduleFocus=function useScheduleFocus(store){const[scheduled,setScheduled]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),schedule=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>setScheduled(!0)),[]),activeItem=store.useState((state=>(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,state.activeId)));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const activeElement=null==activeItem?void 0:activeItem.element;scheduled&&activeElement&&(setScheduled(!1),activeElement.focus({preventScroll:!0}))}),[activeItem,scheduled]),schedule}(store),moves=store.useState("moves"),[,setBaseElement]=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__.XB)(composite?store.setBaseElement:null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var _a2;if(!store)return;if(!moves)return;if(!composite)return;if(!focusOnMove)return;const{activeId:activeId2}=store.getState(),itemElement=null==(_a2=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,activeId2))?void 0:_a2.element;itemElement&&(0,_ariakit_core_utils_focus__WEBPACK_IMPORTED_MODULE_11__.WA)(itemElement)}),[store,moves,composite,focusOnMove]),(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__.UQ)((()=>{if(!store)return;if(!moves)return;if(!composite)return;const{baseElement,activeId:activeId2}=store.getState();if(!(null===activeId2))return;if(!baseElement)return;const previousElement=previousElementRef.current;previousElementRef.current=null,previousElement&&(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.c$)(previousElement,{relatedTarget:baseElement}),(0,_ariakit_core_utils_focus__WEBPACK_IMPORTED_MODULE_11__.AJ)(baseElement)||baseElement.focus()}),[store,moves,composite]);const activeId=store.useState("activeId"),virtualFocus=store.useState("virtualFocus");(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__.UQ)((()=>{var _a2;if(!store)return;if(!composite)return;if(!virtualFocus)return;const previousElement=previousElementRef.current;if(previousElementRef.current=null,!previousElement)return;const relatedTarget=(null==(_a2=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,activeId))?void 0:_a2.element)||(0,_ariakit_core_utils_dom__WEBPACK_IMPORTED_MODULE_2__.bq)(previousElement);relatedTarget!==previousElement&&(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.c$)(previousElement,{relatedTarget})}),[store,activeId,virtualFocus,composite]);const onKeyDownCapture=useKeyboardEventProxy(store,props.onKeyDownCapture,previousElementRef),onKeyUpCapture=useKeyboardEventProxy(store,props.onKeyUpCapture,previousElementRef),onFocusCaptureProp=props.onFocusCapture,onFocusCapture=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__._q)((event=>{if(null==onFocusCaptureProp||onFocusCaptureProp(event),event.defaultPrevented)return;if(!store)return;const{virtualFocus:virtualFocus2}=store.getState();if(!virtualFocus2)return;const previousActiveElement=event.relatedTarget,isSilentlyFocused=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.Qh)(event.currentTarget);(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.uh)(event)&&isSilentlyFocused&&(event.stopPropagation(),previousElementRef.current=previousActiveElement)})),onFocusProp=props.onFocus,onFocus=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__._q)((event=>{if(null==onFocusProp||onFocusProp(event),event.defaultPrevented)return;if(!composite)return;if(!store)return;const{relatedTarget}=event,{virtualFocus:virtualFocus2}=store.getState();virtualFocus2?(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.uh)(event)&&!(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.WZ)(store,relatedTarget)&&queueMicrotask(scheduleFocus):(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.uh)(event)&&store.setActiveId(null)})),onBlurCaptureProp=props.onBlurCapture,onBlurCapture=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__._q)((event=>{var _a2;if(null==onBlurCaptureProp||onBlurCaptureProp(event),event.defaultPrevented)return;if(!store)return;const{virtualFocus:virtualFocus2,activeId:activeId2}=store.getState();if(!virtualFocus2)return;const activeElement=null==(_a2=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,activeId2))?void 0:_a2.element,nextActiveElement=event.relatedTarget,nextActiveElementIsItem=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.WZ)(store,nextActiveElement),previousElement=previousElementRef.current;if(previousElementRef.current=null,(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.uh)(event)&&nextActiveElementIsItem)nextActiveElement===activeElement?previousElement&&previousElement!==nextActiveElement&&(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.c$)(previousElement,event):activeElement?(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.c$)(activeElement,event):previousElement&&(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.c$)(previousElement,event),event.stopPropagation();else{!(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.WZ)(store,event.target)&&activeElement&&(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.c$)(activeElement,event)}})),onKeyDownProp=props.onKeyDown,moveOnKeyPressProp=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__.O4)(moveOnKeyPress),onKeyDown=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__._q)((event=>{var _a2;if(null==onKeyDownProp||onKeyDownProp(event),event.defaultPrevented)return;if(!store)return;if(!(0,_ariakit_core_utils_events__WEBPACK_IMPORTED_MODULE_4__.uh)(event))return;const{orientation,renderedItems,activeId:activeId2}=store.getState(),activeItem=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,activeId2);if(null==(_a2=null==activeItem?void 0:activeItem.element)?void 0:_a2.isConnected)return;const isVertical="horizontal"!==orientation,isHorizontal="vertical"!==orientation,grid=function isGrid(items){return items.some((item=>!!item.rowId))}(renderedItems);if(("ArrowLeft"===event.key||"ArrowRight"===event.key||"Home"===event.key||"End"===event.key)&&(0,_ariakit_core_utils_dom__WEBPACK_IMPORTED_MODULE_2__.mB)(event.currentTarget))return;const action={ArrowUp:(grid||isVertical)&&(()=>{if(grid){const item=function findFirstEnabledItemInTheLastRow(items){return(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.oi)((0,_ariakit_core_utils_array__WEBPACK_IMPORTED_MODULE_7__.M9)((0,_ariakit_core_utils_array__WEBPACK_IMPORTED_MODULE_7__.q7)((0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.es)(items))))}(renderedItems);return null==item?void 0:item.id}return null==store?void 0:store.last()}),ArrowRight:(grid||isHorizontal)&&store.first,ArrowDown:(grid||isVertical)&&store.first,ArrowLeft:(grid||isHorizontal)&&store.last,Home:store.first,End:store.last,PageUp:store.first,PageDown:store.last}[event.key];if(action){const id=action();if(void 0!==id){if(!moveOnKeyPressProp(event))return;event.preventDefault(),store.move(id)}}}));props=(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__.w7)(props,(element=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_P7GR5CS5_js__WEBPACK_IMPORTED_MODULE_9__.ws,{value:store,children:element})),[store]);const activeDescendant=store.useState((state=>{var _a2;if(store&&composite&&state.virtualFocus)return null==(_a2=(0,_5VQZOHHZ_js__WEBPACK_IMPORTED_MODULE_5__.hZ)(store,state.activeId))?void 0:_a2.id}));props=(0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_6__.ko)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_6__.IA)({"aria-activedescendant":activeDescendant},props),{ref:(0,_ABQUS43J_js__WEBPACK_IMPORTED_MODULE_3__.SV)(ref,setBaseElement,props.ref),onKeyDownCapture,onKeyUpCapture,onFocusCapture,onFocus,onBlurCapture,onKeyDown});const focusable=store.useState((state=>composite&&(state.virtualFocus||null===state.activeId)));return props=(0,_LVA2YJMS_js__WEBPACK_IMPORTED_MODULE_12__.Wc)((0,_3YLGPPWQ_js__WEBPACK_IMPORTED_MODULE_6__.IA)({focusable},props))})),Composite=(0,_LMDWO4NN_js__WEBPACK_IMPORTED_MODULE_8__.Rf)((function Composite2(props){const htmlProps=useComposite(props);return(0,_LMDWO4NN_js__WEBPACK_IMPORTED_MODULE_8__.n)("div",htmlProps)}))}}]);